{"ast":null,"code":"// import authService from './auth';\nimport axios from 'axios';\nconst axiosClient = axios.create({\n  baseURL: 'http://localhost:5000',\n  headers: {\n    'Content-Type': 'application/json',\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n  }\n});\n\n// const requestIntercept = axiosClient.interceptors.request.use((request) =>\n// \trequestHandler(request),\n// );\n\naxiosClient.interceptors.response.use(response => successHandler(response), error => errorHandler(error));\nconst errorHandler = error => {\n  console.log('error', error);\n  /*\r\n   * When response code is 401, try to refresh the token or logOut.\r\n   * Eject the interceptor so it doesn't loop in case\r\n   * token refresh causes the 401 response\r\n   */\n  // if (error?.response?.status === 401) {\n  // \t//axios.interceptors.response.eject(requestIntercept);\n  // \t// clear old token\n  // \tlocalStorage.clear();\n  // \t// redirect to login page\n  // \twindow.location.href = window.location.origin + '/';\n  // }\n  // if (error?.response?.status === 415) {\n  // \t// show toast message chung là bạn không có quyền\n  // }\n\n  // // server error\n  // if (error?.response?.status === 500) {\n  // }\n\n  // return Promise.reject(error?.response?.data);\n};\n\nconst successHandler = response => {\n  return response;\n};\n\n// const requestHandler = (request) => {\n// \tconst token = localStorage.getItem('token');\n\n// \tif (token && token !== null) {\n// \t\trequest.headers['Authorization'] = `Bearer ${token}`;\n// \t}\n\n// \treturn request;\n// };\n\nexport default axiosClient;","map":{"version":3,"names":["axios","axiosClient","create","baseURL","headers","interceptors","response","use","successHandler","error","errorHandler","console","log"],"sources":["C:/Users/Manh Lam/frontend/src/services/httpCommon.js"],"sourcesContent":["// import authService from './auth';\r\nimport axios from 'axios';\r\n\r\nconst axiosClient = axios.create({\r\n\tbaseURL: 'http://localhost:5000',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json',\r\n\t\t\"Access-Control-Allow-Origin\": \"*\",\r\n\t\t\"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\r\n\t},\r\n});\r\n\r\n// const requestIntercept = axiosClient.interceptors.request.use((request) =>\r\n// \trequestHandler(request),\r\n// );\r\n\r\naxiosClient.interceptors.response.use(\r\n\t(response) => successHandler(response),\r\n\t(error) => errorHandler(error),\r\n);\r\n\r\nconst errorHandler = (error) => {\r\n\tconsole.log('error', error);\r\n\t/*\r\n\t * When response code is 401, try to refresh the token or logOut.\r\n\t * Eject the interceptor so it doesn't loop in case\r\n\t * token refresh causes the 401 response\r\n\t */\r\n\t// if (error?.response?.status === 401) {\r\n\t// \t//axios.interceptors.response.eject(requestIntercept);\r\n\t// \t// clear old token\r\n\t// \tlocalStorage.clear();\r\n\t// \t// redirect to login page\r\n\t// \twindow.location.href = window.location.origin + '/';\r\n\t// }\r\n\t// if (error?.response?.status === 415) {\r\n\t// \t// show toast message chung là bạn không có quyền\r\n\t// }\r\n\r\n\t// // server error\r\n\t// if (error?.response?.status === 500) {\r\n\t// }\r\n\r\n\t// return Promise.reject(error?.response?.data);\r\n};\r\n\r\nconst successHandler = (response) => {\r\n\treturn response;\r\n};\r\n\r\n// const requestHandler = (request) => {\r\n// \tconst token = localStorage.getItem('token');\r\n\r\n// \tif (token && token !== null) {\r\n// \t\trequest.headers['Authorization'] = `Bearer ${token}`;\r\n// \t}\r\n\r\n// \treturn request;\r\n// };\r\n\r\nexport default axiosClient;"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,CAAC;EAChCC,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE;IACR,cAAc,EAAE,kBAAkB;IAClC,6BAA6B,EAAE,GAAG;IAClC,8BAA8B,EAAE;EACjC;AACD,CAAC,CAAC;;AAEF;AACA;AACA;;AAEAH,WAAW,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CACnCD,QAAQ,IAAKE,cAAc,CAACF,QAAQ,CAAC,EACrCG,KAAK,IAAKC,YAAY,CAACD,KAAK,CAC9B,CAAC;AAED,MAAMC,YAAY,GAAID,KAAK,IAAK;EAC/BE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,KAAK,CAAC;EAC3B;AACD;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;AACD,CAAC;;AAED,MAAMD,cAAc,GAAIF,QAAQ,IAAK;EACpC,OAAOA,QAAQ;AAChB,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,eAAeL,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}